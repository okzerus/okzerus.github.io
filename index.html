<!doctype html>
<html lang="ru" data-theme="dark">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Distortion Detective [RU]</title>
<link rel="stylesheet" href="styles.css">
<!-- Tippy CSS -->
<link rel="stylesheet" href="https://unpkg.com/tippy.js@6/dist/tippy.css">
</head>
<body>
<header>
  <h1 id="site-title">Distortion Detective [RU]</h1>
  <div class="header-controls">
    <!-- color-palette opener (keeps sun icon as requested) -->
    <div class="palette-wrapper" style="position:relative;">
      <button id="theme-toggle" aria-haspopup="true" aria-expanded="false" title="Выбрать цвет интерфейса">☀︎</button>

      <!-- palette popup, positioned under the button -->
      <div id="color-palette" class="color-palette" role="dialog" aria-label="Палитра цветов" aria-hidden="true">
        <div class="palette-row">
          <label for="color-input">Цвет интерфейса</label>
          <input id="color-input" type="color" value="#0f1520" aria-label="Выбрать цвет"/>
        </div>
        <div class="palette-row">
          <label for="darken-range">Затемнить карточку</label>
          <input id="darken-range" type="range" min="0" max="24" value="8" aria-label="Уровень затемнения карточки"/>
          <span id="darken-val" class="small-muted">8%</span>
        </div>
        <div class="palette-actions">
          <button id="palette-reset" class="btn">Сбросить</button>
          <button id="palette-close" class="btn secondary">Готово</button>
        </div>
      </div>
    </div>

  </div>
</header>

<main>
  <aside id="chapters-list">
    <h2>Главы</h2>
    <ul id="chapters"></ul>
  </aside>

  <section id="content">
    <div id="chapter-title"></div>
    <article id="chapter-body">Загрузка...</article>

    <!-- bottom nav area (buttons inserted in markup) -->
    <div id="bottom-nav" class="chapter-nav">
      <button id="bottom-prev" class="nav-btn" aria-label="Предыдущая глава" disabled>◀</button>
      <button id="bottom-next" class="nav-btn" aria-label="Следующая глава" disabled>▶</button>
    </div>
  </section>
</main>

<!-- top nav (fixed, centered near top line) -->
<div id="top-nav" aria-hidden="true">
  <button id="top-prev" class="nav-btn" aria-label="Предыдущая глава" disabled>◀</button>
  <button id="top-next" class="nav-btn" aria-label="Следующая глава" disabled>▶</button>
</div>

<!-- image overlay viewer -->
<div id="image-overlay" aria-hidden="true" style="display:none">
  <div class="viewer" role="dialog" aria-modal="true"><img class="viewer-img" src="" alt=""></div>
</div>

<!-- Libraries -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="https://unpkg.com/@popperjs/core@2"></script>
<script src="https://unpkg.com/tippy.js@6"></script>

<!-- Main script -->
<script src="script.js"></script>
</body>
</html>
